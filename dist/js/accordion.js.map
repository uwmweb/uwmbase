{"version":3,"sources":["accordion.js"],"names":["$","Drupal","behaviors","accordion","attach","context","settings","uwQueryParam","urlPart","replace","regex","RegExp","results","exec","location","search","decodeURIComponent","scrollToAnchorPath","anchorPath","parts","split","each","a","anchorPart","$elm","is","attr","trigger","length","scrollTo","window","toString","indexOf","scrollPath","jQuery"],"mappings":";;AAAA;;;;;AAKA,CAAC,UAASA,CAAT,EAAYC,MAAZ,EAAoB;AACnBA,SAAOC,SAAP,CAAiBC,SAAjB,GAA6B;AAC3B;AACA;AACA;AACAC,YAAQ,gBAASC,OAAT,EAAkBC,QAAlB,EAA4B;AAClC,UAAIC,eAAe,SAAfA,YAAe,CAASC,OAAT,EAAkB;AACnCA,kBAAUA,QAAQC,OAAR,CAAgB,MAAhB,EAAwB,KAAxB,EAA+BA,OAA/B,CAAuC,MAAvC,EAA+C,KAA/C,CAAV;AACA,YAAIC,QAAQ,IAAIC,MAAJ,CAAW,WAAWH,OAAX,GAAqB,WAAhC,CAAZ;AACA,YAAII,UAAUF,MAAMG,IAAN,CAAWC,SAASC,MAApB,CAAd;AACA,eAAOH,YAAY,IAAZ,GACH,EADG,GAEHI,mBAAmBJ,QAAQ,CAAR,EAAWH,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAnB,CAFJ;AAGD,OAPD;;AASA,UAAIQ,qBAAqB,SAArBA,kBAAqB,CAASC,UAAT,EAAqB;AAC5C,YAAIC,QAAQD,WAAWE,KAAX,CAAiB,GAAjB,CAAZ;AACApB,UAAEmB,KAAF,EAASE,IAAT,CAAc,UAASC,CAAT,EAAYC,UAAZ,EAAwB;AACpC,cAAIC,OAAOxB,EAAE,0BAA0BuB,UAA1B,GAAuC,IAAzC,CAAX;;AAEA,cAAIC,KAAKC,EAAL,CAAQ,SAAR,CAAJ,EAAwB;AACtBF,yBAAaA,WAAWd,OAAX,CAAmB,SAAnB,EAA8B,QAA9B,CAAb;AACAe,mBAAOxB,EAAE,0BAA0BuB,UAA1B,GAAuC,IAAzC,CAAP;AACD;;AAED,cAAI,CAACC,KAAKE,IAAL,CAAU,IAAV,CAAL,EAAsB;AACpBF,iBAAKE,IAAL,CAAU,IAAV,EAAgBH,aAAa,QAA7B;AACD;;AAEDC,eAAKG,OAAL,CAAa,OAAb;;AAEA,cAAIL,IAAI,CAAJ,KAAUH,MAAMS,MAApB,EAA4B;AAC1B5B,cAAE6B,QAAF,CAAW,MAAML,KAAKE,IAAL,CAAU,IAAV,CAAjB;AACD;AACF,SAjBD;AAkBD,OApBD;;AAsBA,UAAII,OAAOhB,QAAP,CAAgBiB,QAAhB,GAA2BC,OAA3B,CAAmC,QAAnC,IAA+C,CAAnD,EAAsD;AACpD,YAAIC,aAAa1B,aAAa,QAAb,CAAjB;AACAU,2BAAmBgB,UAAnB;AACD;AACF;AAxC0B,GAA7B;AA0CD,CA3CD,EA2CGC,MA3CH,EA2CWjC,MA3CX","file":"accordion.js","sourcesContent":["/**\n * @file\n * Custom deeplinking functionality based on an accordion section data-target id.\n */\n\n(function($, Drupal) {\n  Drupal.behaviors.accordion = {\n    // ?scroll=collapse-accordion-33996-1\n    // to find a data-target id, inspect the page source and select the value in the \"data-target\" \n    // attribute, excluding the # sign.\n    attach: function(context, settings) {\n      var uwQueryParam = function(urlPart) {\n        urlPart = urlPart.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n        var regex = new RegExp(\"[\\\\?&]\" + urlPart + \"=([^&#]*)\");\n        var results = regex.exec(location.search);\n        return results === null\n          ? \"\"\n          : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n      };\n\n      var scrollToAnchorPath = function(anchorPath) {\n        var parts = anchorPath.split(\"/\");\n        $(parts).each(function(a, anchorPart) {\n          var $elm = $('button[data-target=\"#' + anchorPart + '\"]');\n\n          if ($elm.is(\":hidden\")) {\n            anchorPart = anchorPart.replace(\"desktop\", \"mobile\");\n            $elm = $('button[data-target=\"#' + anchorPart + '\"]');\n          }\n\n          if (!$elm.attr(\"id\")) {\n            $elm.attr(\"id\", anchorPart + \"anchor\");\n          }\n\n          $elm.trigger(\"click\");\n\n          if (a + 1 === parts.length) {\n            $.scrollTo(\"#\" + $elm.attr(\"id\"));\n          }\n        });\n      };\n\n      if (window.location.toString().indexOf(\"scroll\") > 0) {\n        var scrollPath = uwQueryParam(\"scroll\");\n        scrollToAnchorPath(scrollPath);\n      }\n    }\n  };\n})(jQuery, Drupal);\n"]}