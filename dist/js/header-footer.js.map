{"version":3,"sources":["header-footer.js"],"names":["$","Drupal","behaviors","uwmedNavHover","attach","context","settings","$mainNavDropdownItems","hover","e","openHoverMenu","closeHoverMenus","click","isMenuClick","target","stopPropagation","preventDefault","navigator","platform","test","hasClass","closeClickMenus","openClickMenu","$item","find","removeClass","addClass","$exceptThis","stop","is","uwHeaderSearchClick","parents","first","submit","val","jQuery"],"mappings":"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","file":"header-footer.js","sourcesContent":["/**\n * @file\n * Custom global JavaScript for UW Medicine.\n */\n\n(function ($, Drupal) {\n\n\n  Drupal.behaviors.uwmedNavHover = {\n\n    attach: function (context, settings) {\n\n      var $mainNavDropdownItems = $('.uwm-main-navigation .dropdown');\n\n      /**\n       *\n       *\n       * Attach menu behavior\n       *\n       */\n\n      // Toggle main drop-downs:\n      $mainNavDropdownItems.hover(function (e) {\n        //closeHoverMenus($(this));\n        openHoverMenu($(this));\n\n      }, function () {\n        closeHoverMenus($(this));\n      });\n\n      // Hold open when clicked:\n      $mainNavDropdownItems.click(function (e) {\n\n        if (!isMenuClick($(e.target))) {\n          return;\n        }\n\n        e.stopPropagation(); // Prevent bubling to window close event\n        e.preventDefault();\n\n        closeHoverMenus($(this));\n\n        // Tablets bind hover as touch, so don't duplicate:\n        if (!!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform)) {\n          return;\n        }\n\n        if ($(this).hasClass('hold-open')) {\n          closeClickMenus($(this));\n        } else {\n          openClickMenu($(this));\n        }\n      });\n\n      //     // Open 3rd level menus:\n      //     $secondaryMenus.click(function (e) {\n\n      //         if (!isMenuClick($(e.target))) {\n      //             return;\n      //         }\n\n      //         e.stopPropagation(); // Prevent bubling to window close event\n      //         e.preventDefault();\n\n      //         openClickMenu($(this));\n\n      //     });\n\n      //     // Close all menus:\n      //     $(window).click(function (e) {\n      //         closeClickMenus();\n      //         closeHoverMenus();\n      //     });\n\n\n      //     /**\n      //      *\n      //      *\n      //      * Show/ hide functions\n      //      *\n      //      */\n      function openClickMenu($item) {\n\n        $mainNavDropdownItems.find('.dropdown-menu').removeClass('show');\n        $mainNavDropdownItems.removeClass('hold-open').removeClass('show');\n        $item.addClass('show').addClass('hold-open').removeClass('hover');\n        $item.find('.dropdown-menu').addClass('show');\n\n      }\n\n      function closeClickMenus($exceptThis) {\n        $exceptThis.removeClass('show').removeClass('hold-open');\n        $mainNavDropdownItems.find('.dropdown-menu').removeClass('show');\n      }\n\n      function openHoverMenu($item) {\n\n        $item.stop(true, true).addClass('show').addClass('hover');\n        $item.find('.dropdown-menu').addClass('show');\n      }\n\n      function closeHoverMenus($item) {\n        if ($item.hasClass('hold-open')) {\n          $item.removeClass('hover');\n        } else {\n          $item.removeClass('show').removeClass('hover');\n          $item.find('.dropdown-menu').removeClass('show');\n        }\n      }\n\n      function isMenuClick($item) {\n\n        if ($item.hasClass('dropdown-toggle') || $item.is($mainNavDropdownItems)) {\n          return true;\n        }\n\n        return false;\n\n      }\n\n    }\n\n  };\n\n\n  Drupal.behaviors.uwHeaderSearchClick = {\n\n    attach: function (context, settings) {\n\n      $('header form i.fa.fa-search, header form .fa-search').click(function (e) {\n\n        $(this).parents('form').first().submit();\n\n      });\n\n      $('header.mobile button[data-target=\".search-collapse\"]').click(function (e) {\n\n        $('header.mobile input[name=\"s\"]').val('');\n\n      });\n    }\n  };\n\n\n})(jQuery, Drupal);\n"]}