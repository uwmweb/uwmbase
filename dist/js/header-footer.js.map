{"version":3,"sources":["header-footer.js"],"names":["$","Drupal","behaviors","uwmedNavHover","attach","context","settings","$menu","$primaryMenus","find","$secondaryMenus","hover","e","closeHoverMenus","openHoverMenu","click","isMenuClick","target","stopPropagation","preventDefault","navigator","platform","test","closeClickMenus","openClickMenu","window","$item","toggleClass","$exceptThis","not","removeClass","stop","addClass","hasClass","is","uwHeaderSearchClick","parents","first","submit","val","jQuery"],"mappings":";;AAAA;;;;;AAKA,CAAC,UAAUA,CAAV,EAAaC,MAAb,EAAqB;;AAGlBA,WAAOC,SAAP,CAAiBC,aAAjB,GAAiC;;AAE7BC,gBAAQ,gBAAUC,OAAV,EAAmBC,QAAnB,EAA6B;;AAEjC,gBAAIC,QAAQP,EAAE,2DAAF,CAAZ;AACA,gBAAIQ,gBAAgBD,MAAME,IAAN,CAAW,eAAX,CAApB;AACA,gBAAIC,kBAAkBF,cAAcC,IAAd,CAAmB,qBAAnB,CAAtB;;AAGA;;;;;;;AAOA;AACAD,0BAAcG,KAAd,CAAoB,UAAUC,CAAV,EAAa;;AAE7BC;AACAC,8BAAcd,EAAE,IAAF,CAAd;AAEH,aALD,EAKG,YAAY;;AAEXa;AAEH,aATD;;AAWA;AACAL,0BAAcO,KAAd,CAAoB,UAAUH,CAAV,EAAa;;AAE7B,oBAAI,CAACI,YAAYhB,EAAEY,EAAEK,MAAJ,CAAZ,CAAL,EAA+B;AAC3B;AACH;;AAEDL,kBAAEM,eAAF,GAN6B,CAMR;AACrBN,kBAAEO,cAAF;;AAEAN;;AAEA;AACA,oBAAI,CAAC,CAACO,UAAUC,QAAZ,IAAwB,mBAAmBC,IAAnB,CAAwBF,UAAUC,QAAlC,CAA5B,EAAyE;AACrE;AACH;;AAEDE,gCAAgBvB,EAAE,IAAF,CAAhB;AACAwB,8BAAcxB,EAAE,IAAF,CAAd;AAGH,aApBD;;AAsBA;AACAU,4BAAgBK,KAAhB,CAAsB,UAAUH,CAAV,EAAa;;AAE/B,oBAAI,CAACI,YAAYhB,EAAEY,EAAEK,MAAJ,CAAZ,CAAL,EAA+B;AAC3B;AACH;;AAEDL,kBAAEM,eAAF,GAN+B,CAMV;AACrBN,kBAAEO,cAAF;;AAEAK,8BAAcxB,EAAE,IAAF,CAAd;AAEH,aAXD;;AAaA;AACAA,cAAEyB,MAAF,EAAUV,KAAV,CAAgB,UAAUH,CAAV,EAAa;AACzBW;AACAV;AACH,aAHD;;AAMA;;;;;;AAMA,qBAASW,aAAT,CAAuBE,KAAvB,EAA8B;;AAE1BA,sBAAMC,WAAN,CAAkB,cAAlB;AAEH;;AAED,qBAASJ,eAAT,CAAyBK,WAAzB,EAAsC;;AAElCrB,sBAAME,IAAN,CAAW,QAAX,EAAqBoB,GAArB,CAAyBD,WAAzB,EACKE,WADL,CACiB,cADjB;AAEH;;AAED,qBAAShB,aAAT,CAAuBY,KAAvB,EAA8B;;AAE1BA,sBAAMK,IAAN,CAAW,IAAX,EAAiB,IAAjB,EAAuBC,QAAvB,CAAgC,SAAhC;AAEH;;AAED,qBAASnB,eAAT,CAAyBe,WAAzB,EAAsC;;AAElCrB,sBAAME,IAAN,CAAW,QAAX,EAAqBoB,GAArB,CAAyBD,WAAzB,EACKE,WADL,CACiB,cADjB;AAGH;;AAED,qBAASd,WAAT,CAAqBU,KAArB,EAA4B;;AAExB,oBAAIA,MAAMO,QAAN,CAAe,iBAAf,KAAqCP,MAAMQ,EAAN,CAAS1B,aAAT,CAArC,IAAgEkB,MAAMQ,EAAN,CAASxB,eAAT,CAApE,EAA+F;AAC3F,2BAAO,IAAP;AACH;;AAED,uBAAO,KAAP;AAEH;AAEJ;;AAjH4B,KAAjC;;AAsHAT,WAAOC,SAAP,CAAiBiC,mBAAjB,GAAuC;;AAEnC/B,gBAAQ,gBAAUC,OAAV,EAAmBC,QAAnB,EAA6B;;AAEjCN,cAAE,4BAAF,EAAgCe,KAAhC,CAAsC,UAAUH,CAAV,EAAa;;AAE/CZ,kBAAE,IAAF,EAAQoC,OAAR,CAAgB,MAAhB,EAAwBC,KAAxB,GAAgCC,MAAhC;AAEH,aAJD;;AAMAtC,cAAE,sDAAF,EAA0De,KAA1D,CAAgE,UAAUH,CAAV,EAAa;;AAEzEZ,kBAAE,+BAAF,EAAmCuC,GAAnC,CAAuC,EAAvC;AAEH,aAJD;AAKH;AAfkC,KAAvC;AAmBH,CA5ID,EA4IGC,MA5IH,EA4IWvC,MA5IX","file":"header-footer.js","sourcesContent":["/**\n * @file\n * Custom global JavaScript for UW Medicine.\n */\n\n(function ($, Drupal) {\n\n\n    Drupal.behaviors.uwmedNavHover = {\n\n        attach: function (context, settings) {\n\n            var $menu = $('header .desktop-main-navigation .navbar-collapse > ul.nav');\n            var $primaryMenus = $menu.find('> li.dropdown');\n            var $secondaryMenus = $primaryMenus.find('li.dropdown-submenu');\n\n\n            /**\n             *\n             *\n             * Attach menu behavior\n             *\n             */\n\n            // Toggle main drop-downs:\n            $primaryMenus.hover(function (e) {\n\n                closeHoverMenus();\n                openHoverMenu($(this));\n\n            }, function () {\n\n                closeHoverMenus();\n\n            });\n\n            // Hold open when clicked:\n            $primaryMenus.click(function (e) {\n\n                if (!isMenuClick($(e.target))) {\n                    return;\n                }\n\n                e.stopPropagation(); // Prevent bubling to window close event\n                e.preventDefault();\n\n                closeHoverMenus();\n\n                // Tablets bind hover as touch, so don't duplicate:\n                if (!!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform)) {\n                    return;\n                }\n\n                closeClickMenus($(this));\n                openClickMenu($(this));\n\n\n            });\n\n            // Open 3rd level menus:\n            $secondaryMenus.click(function (e) {\n\n                if (!isMenuClick($(e.target))) {\n                    return;\n                }\n\n                e.stopPropagation(); // Prevent bubling to window close event\n                e.preventDefault();\n\n                openClickMenu($(this));\n\n            });\n\n            // Close all menus:\n            $(window).click(function (e) {\n                closeClickMenus();\n                closeHoverMenus();\n            });\n\n\n            /**\n             *\n             *\n             * Show/ hide functions\n             *\n             */\n            function openClickMenu($item) {\n\n                $item.toggleClass('uw-hold-open');\n\n            }\n\n            function closeClickMenus($exceptThis) {\n\n                $menu.find('ul, li').not($exceptThis)\n                    .removeClass('uw-hold-open');\n            }\n\n            function openHoverMenu($item) {\n\n                $item.stop(true, true).addClass('uw-open');\n\n            }\n\n            function closeHoverMenus($exceptThis) {\n\n                $menu.find('ul, li').not($exceptThis)\n                    .removeClass('open uw-open');\n\n            }\n\n            function isMenuClick($item) {\n\n                if ($item.hasClass('dropdown-toggle') || $item.is($primaryMenus) || $item.is($secondaryMenus)) {\n                    return true;\n                }\n\n                return false;\n\n            }\n\n        }\n\n    };\n\n\n    Drupal.behaviors.uwHeaderSearchClick = {\n\n        attach: function (context, settings) {\n\n            $('header form i.fa.fa-search').click(function (e) {\n\n                $(this).parents('form').first().submit();\n\n            });\n\n            $('header.mobile button[data-target=\".search-collapse\"]').click(function (e) {\n\n                $('header.mobile input[name=\"k\"]').val('');\n\n            });\n        }\n    };\n\n\n})(jQuery, Drupal);\n"]}