{"version":3,"sources":["header-footer.js"],"names":["$","Drupal","behaviors","uwmedNavHover","attach","context","settings","$mainNavDropdownItems","hover","e","openHoverMenu","closeHoverMenus","click","isMenuClick","target","stopPropagation","preventDefault","navigator","platform","test","hasClass","closeClickMenus","openClickMenu","$item","find","removeClass","addClass","$exceptThis","stop","is","uwHeaderSearchClick","parents","first","submit","val","jQuery"],"mappings":"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","file":"header-footer.js","sourcesContent":["/**\n * @file\n * Custom global JavaScript for UW Medicine.\n */\n\n(function ($, Drupal) {\n\n\n    Drupal.behaviors.uwmedNavHover = {\n\n        attach: function (context, settings) {\n\n            var $mainNavDropdownItems = $('.uwm-main-navigation .dropdown');\n\n            /**\n             *\n             *\n             * Attach menu behavior\n             *\n             */\n\n            // Toggle main drop-downs:\n            $mainNavDropdownItems.hover(function (e) {\n                //closeHoverMenus($(this));\n                openHoverMenu($(this));\n\n            }, function () {\n                closeHoverMenus($(this));\n            });\n\n            // Hold open when clicked:\n            $mainNavDropdownItems.click(function (e) {\n\n                if (!isMenuClick($(e.target))) {\n                    return;\n                }\n\n                e.stopPropagation(); // Prevent bubling to window close event\n                e.preventDefault();\n\n                closeHoverMenus($(this));\n\n                // Tablets bind hover as touch, so don't duplicate:\n                if (!!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform)) {\n                    return;\n                }\n                \n                if($(this).hasClass('hold-open')) {\n                    closeClickMenus($(this));\n                } else {\n                    openClickMenu($(this));\n                }\n            });\n\n        //     // Open 3rd level menus:\n        //     $secondaryMenus.click(function (e) {\n\n        //         if (!isMenuClick($(e.target))) {\n        //             return;\n        //         }\n\n        //         e.stopPropagation(); // Prevent bubling to window close event\n        //         e.preventDefault();\n\n        //         openClickMenu($(this));\n\n        //     });\n\n        //     // Close all menus:\n        //     $(window).click(function (e) {\n        //         closeClickMenus();\n        //         closeHoverMenus();\n        //     });\n\n\n        //     /**\n        //      *\n        //      *\n        //      * Show/ hide functions\n        //      *\n        //      */\n            function openClickMenu($item) {\n\n                $mainNavDropdownItems.find('.dropdown-menu').removeClass('show');\n                $mainNavDropdownItems.removeClass('hold-open').removeClass('show');\n                $item.addClass('show').addClass('hold-open').removeClass('hover');\n                $item.find('.dropdown-menu').addClass('show');\n\n            }\n\n            function closeClickMenus($exceptThis) {\n                $exceptThis.removeClass('show').removeClass('hold-open');\n                $mainNavDropdownItems.find('.dropdown-menu').removeClass('show');\n            }\n\n            function openHoverMenu($item) {\n\n                $item.stop(true, true).addClass('show').addClass('hover');\n                $item.find('.dropdown-menu').addClass('show');\n            }\n\n            function closeHoverMenus($item) {\n                if($item.hasClass('hold-open')) {\n                    $item.removeClass('hover');\n                } else {\n                    $item.removeClass('show').removeClass('hover');\n                    $item.find('.dropdown-menu').removeClass('show');\n                }\n            }\n\n            function isMenuClick($item) {\n\n                if ($item.hasClass('dropdown-toggle') || $item.is($mainNavDropdownItems)) {\n                    return true;\n                }\n\n                return false;\n\n            }\n\n        }\n\n    };\n\n\n    Drupal.behaviors.uwHeaderSearchClick = {\n\n        attach: function (context, settings) {\n\n            $('header form i.fa.fa-search').click(function (e) {\n\n                $(this).parents('form').first().submit();\n\n            });\n\n            $('header.mobile button[data-target=\".search-collapse\"]').click(function (e) {\n\n                $('header.mobile input[name=\"s\"]').val('');\n\n            });\n        }\n    };\n\n\n})(jQuery, Drupal);\n"]}